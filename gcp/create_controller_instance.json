POST https://www.googleapis.com/compute/v1/projects/avistio-gtm/zones/us-central1-c/instances
{
"kind": "compute#instance",
"name": "controller",
"zone": "projects/avistio-gtm/zones/us-central1-c",
"machineType": "projects/avistio-gtm/zones/us-central1-c/machineTypes/n1-standard-4",
"metadata": {
"kind": "compute#metadata",
"items": []
},
"tags": {
"items": [
"avi-se-dp-heartbeat",
"http-server",
"https-server"
]
},
"disks": [
{
"kind": "compute#attachedDisk",
"type": "PERSISTENT",
"boot": true,
"mode": "READ_WRITE",
"autoDelete": true,
"deviceName": "controller",
"initializeParams": {
"sourceImage": "projects/centos-cloud/global/images/centos-7-v20190312",
"diskType": "projects/avistio-gtm/zones/us-central1-c/diskTypes/pd-standard",
"diskSizeGb": "80"
},
"diskEncryptionKey": {
}
}
],
"canIpForward": false,
"networkInterfaces": [
{
"kind": "compute#networkInterface",
"subnetwork": "projects/avistio-gtm/regions/us-central1/subnetworks/ew-subnet",
"accessConfigs": [
{
"kind": "compute#accessConfig",
"name": "External NAT",
"type": "ONE_TO_ONE_NAT",
"natIP": "35.193.2.159",
"networkTier": "PREMIUM"
}
],
"aliasIpRanges": []
}
],
"description": "",
"labels": {
},
"scheduling": {
"preemptible": false,
"onHostMaintenance": "MIGRATE",
"automaticRestart": true,
"nodeAffinities": []
},
"deletionProtection": false,
"serviceAccounts": [
{
"email": "316441934044-compute@developer.gserviceaccount.com",
"scopes": [
"https://www.googleapis.com/auth/compute",
"https://www.googleapis.com/auth/servicecontrol",
"https://www.googleapis.com/auth/service.management.readonly",
"https://www.googleapis.com/auth/logging.write",
"https://www.googleapis.com/auth/monitoring.write",
"https://www.googleapis.com/auth/trace.append",
"https://www.googleapis.com/auth/devstorage.read_only"
]
}
]
}

POST https: //www.googleapis.com/compute/v1/projects/avistio-gtm/global/firewalls
{
"name": "avi-allow-http",
"kind": "compute#firewall",
"sourceRanges": [
"0.0.0.0/0"
],
"network": "projects/avistio-gtm/global/networks/avi",
"targetTags": [
"http-server"
],
"allowed": [
{
"IPProtocol": "tcp",
"ports": [
"80"
]
}
]
}

POST https: //www.googleapis.com/compute/v1/projects/avistio-gtm/global/firewalls
{
"name": "avi-allow-https",
"kind": "compute#firewall",
"sourceRanges": [
"0.0.0.0/0"
],
"network": "projects/avistio-gtm/global/networks/avi",
"targetTags": [
"https-server"
],
"allowed": [
{
"IPProtocol": "tcp",
"ports": [
"443"
]
}
]
}
